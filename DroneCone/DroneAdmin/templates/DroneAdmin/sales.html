{% extends 'DroneAdmin/base.html' %}

{% block title %}Sales{% endblock %}
{% block heading %}Sales{% endblock %}

{% block content %}
<section class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Ice Cream Flavors Sales</h2>
    <table class="min-w-full divide-y divide-gray-200 shadow bg-gray-100">
        <thead>
            <tr>
                <th class="px-6 py-3">Flavor</th>
                <th class="px-6 py-3">Quantity Sold</th>
                <th class="px-6 py-3">Price per Unit</th>
                <th class="px-6 py-3">Revenue</th>
            </tr>
        </thead>
        <tbody>
            {% for flavor, sale in ice_cream_sales.items %}
                <tr>
                    <td class="px-6 py-3 whitespace-nowrap">{{ flavor }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">{{ sale.qty_sold }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.price_per_unit }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.total_revenue }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Cones Sales</h2>
    <table class="min-w-full divide-y divide-gray-200 shadow bg-gray-100">
        <thead>
            <tr>
                <th class="px-6 py-3">Name</th>
                <th class="px-6 py-3">Quantity Sold</th>
                <th class="px-6 py-3">Price per Unit</th>
                <th class="px-6 py-3">Revenue</th>
            </tr>
        </thead>
        <tbody>
            {% for name, sale in cone_sales.items %}
                <tr>
                    <td class="px-6 py-3 whitespace-nowrap">{{ name }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">{{ sale.qty_sold }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.price_per_unit }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.total_revenue }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Toppings Sales</h2>
    <table class="min-w-full divide-y divide-gray-200 shadow bg-gray-100">
        <thead>
            <tr>
                <th class="px-6 py-3">Name</th>
                <th class="px-6 py-3">Quantity Sold</th>
                <th class="px-6 py-3">Price per Unit</th>
                <th class="px-6 py-3">Revenue</th>
            </tr>
        </thead>
        <tbody>
            {% for name, sale in topping_sales.items %}
                <tr>
                    <td class="px-6 py-3 whitespace-nowrap">{{ name }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">{{ sale.qty_sold }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.price_per_unit }}</td>
                    <td class="px-6 py-3 whitespace-nowrap">${{ sale.total_revenue }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<section class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Current Markup Percentage</h2>
    <p class="text-xl shadow py-2 px-4 bg-gray-100">Current Markup: {{ markup }}%</p>
    <button onclick="window.location.href='{% url 'edit_markup' %}'" class="bg-green-500 text-white px-4 py-2 rounded-md mt-2">Edit</button>
</section>

<section class="mb-8">
    <h2 class="text-2xl font-semibold mb-4">Total Sales</h2>
    <p class="text-xl shadow py-2 px-4 bg-gray-100">Total Revenue: ${{ total_revenue }}</p>
</section>
{% endblock %}
